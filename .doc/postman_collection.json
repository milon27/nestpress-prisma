{
	"info": {
		"_postman_id": "b5ba139f-0fa8-4568-9921-8812d1a8adf6",
		"name": "Auth MS",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "8408263"
	},
	"item": [
		{
			"name": "login",
			"item": [
				{
					"name": "login with email",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = JSON.parse(responseBody);\r",
									"postman.setGlobalVariable(\"token\", jsonData.response.token);"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"email\": \"pajar@supertal.io\",\r\n    \"password\": \"1234567\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/auth/login/email",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								"email"
							]
						}
					},
					"response": [
						{
							"name": "login with email",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\": \"jokermr143@gmail.com\",\r\n    \"password\": \"1234567\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/auth/login/email",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"login",
										"email"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "119"
								},
								{
									"key": "ETag",
									"value": "W/\"77-pBT3W+1EiD8V51c5EukM33wHVPI\""
								},
								{
									"key": "Date",
									"value": "Mon, 10 Apr 2023 07:56:36 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"User logged in successfully.\",\n    \"statusCode\": 200,\n    \"response\": {\n        \"token\": \"7fe731d4-dfb9-4d02-ac9d-1e109c4ff568\"\n    }\n}"
						}
					]
				},
				{
					"name": "continue with google",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"idToken\":\"xxxxxxxxxxxxxxxxxxxxxxxxxxx\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/auth/login/google",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"login",
								"google"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "register",
			"item": [
				{
					"name": "register",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Pajar\",\n    \"email\": \"pajar@supertal.io\",\n    \"password\": \"1234567\",\n    \"city\": \"Bandar Lampung\",\n    \"avatar\": \"url of the file from s3 (optional)\",\n    \"dob\": \"2023-03-30T07:59:47.833Z\",\n    \"deviceToken\": \"token-from-firebase-for-push-notification(optional)\",\n    \"gender\": \"male\",\n    \"fromGoogle\":false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/auth/register",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"register"
							]
						},
						"description": "- when someone register with google he will directly go to the app screen.\n    \n\n- but when someone will register with email and password he will go to the email varification screen where they will put the otp sent to their email\\[when they will register one email will sent with otp\\], (they can request for new otp if old one is expired). after the otp is verified their email verified status will be true and they will redirect to app home screen."
					},
					"response": [
						{
							"name": "register",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"fullName\": \"joker\",\n    \"email\": \"jokermr143@gmail.com\",\n    \"password\": \"1234567\",\n    \"city\": \"a city\",\n    \"avatar\": \"url of the file from s3 (optional)\",\n    \"dob\": \"2023-03-30T07:59:47.833Z\",\n    \"deviceToken\": \"token-from-firebase-for-push-notification(optional)\",\n    \"gender\": \"male\",\n    \"fromGoogle\":false\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/auth/register",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"register"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "87"
								},
								{
									"key": "ETag",
									"value": "W/\"57-y07hNJx3+orGFAxhht+9f3cCE0c\""
								},
								{
									"key": "Date",
									"value": "Mon, 10 Apr 2023 07:55:01 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"User created successfully, Verify your email to continue\",\n    \"statusCode\": 201\n}"
						}
					]
				}
			]
		},
		{
			"name": "user",
			"item": [
				{
					"name": "get logged in user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "9a86d025-90ba-41cd-a2bf-0559d65cf541",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "b sdfsdfsd",
								"type": "text",
								"disabled": true
							}
						],
						"url": {
							"raw": "{{url}}/api/auth/user",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"user"
							]
						}
					},
					"response": [
						{
							"name": "get logged in user",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "b sdfsdfsd",
										"type": "text",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{url}}/api/auth/user",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"user"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "698"
								},
								{
									"key": "ETag",
									"value": "W/\"2ba-c7BlJ3wJ5GTKhaQk2wVQ3FRh6LU\""
								},
								{
									"key": "Date",
									"value": "Thu, 30 Mar 2023 08:46:49 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"got user successfully\",\n    \"count\": 1,\n    \"response\": {\n        \"id\": \"clfuts4u20000j7xs3pn5izod\",\n        \"fullName\": \"demo\",\n        \"email\": \"demo@g.com\",\n        \"gender\": \"male\",\n        \"avatar\": \"url of the file from s3 (optional)\",\n        \"city\": \"a city\",\n        \"deviceToken\": \"token-from-firebase-for-push-notification(optional)\",\n        \"dob\": \"2023-02-26T00:00:00.000Z\",\n        \"isEmailVerified\": false,\n        \"isActive\": true,\n        \"isVerified\": false,\n        \"lastLoggedIn\": \"2023-03-30T07:59:47.833Z\",\n        \"createdAt\": \"2023-03-30T07:59:47.833Z\",\n        \"updatedAt\": \"2023-03-30T07:59:47.833Z\",\n        \"roleSlug\": \"customer\",\n        \"role\": {\n            \"slug\": \"customer\",\n            \"title\": \"customer\",\n            \"description\": \"customers\",\n            \"canAccessCms\": false,\n            \"createdAt\": \"2023-03-30T07:59:47.833Z\",\n            \"updatedAt\": \"2023-03-30T07:59:47.833Z\",\n            \"permissions\": []\n        }\n    }\n}"
						},
						{
							"name": "get logged in user",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "b sdfsdfsd",
										"type": "text",
										"disabled": true
									}
								],
								"url": {
									"raw": "{{url}}/api/auth/user",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"user"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "99"
								},
								{
									"key": "ETag",
									"value": "W/\"63-kZcp2E1ObzmLBZHOzXaksOOCXMQ\""
								},
								{
									"key": "Date",
									"value": "Mon, 10 Apr 2023 08:13:19 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Authentication failed: the provided token is invalid or has expired.\",\n    \"statusCode\": 401\n}"
						}
					]
				},
				{
					"name": "verify token (from other service)",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/api/auth/user/validate/:token",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"validate",
								":token"
							],
							"variable": [
								{
									"key": "token",
									"value": null
								}
							]
						}
					},
					"response": [
						{
							"name": "verify token (from other service)",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}/api/auth/user/validate/:token",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"user",
										"validate",
										":token"
									],
									"variable": [
										{
											"key": "token",
											"value": "133127e0-ac68-46bb-897a-2dce959a81cf"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "341"
								},
								{
									"key": "ETag",
									"value": "W/\"155-z7F19lRAWn/qaqRA5Ec9WkqPoIw\""
								},
								{
									"key": "Date",
									"value": "Mon, 10 Apr 2023 08:14:08 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Authentication successful. The provided token is valid and has been verified.\",\n    \"statusCode\": 200,\n    \"response\": {\n        \"id\": \"clgajgc5l0000j7m8pa2mczka\",\n        \"role\": {\n            \"slug\": \"customer\",\n            \"title\": \"customer\",\n            \"description\": \"customer\",\n            \"canAccessCms\": false,\n            \"createdAt\": \"2023-04-10T07:47:36.077Z\",\n            \"updatedAt\": \"2023-04-10T07:47:36.077Z\",\n            \"permissions\": []\n        }\n    }\n}"
						},
						{
							"name": "verify token (from other service)",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}/api/auth/user/validate/:token",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"user",
										"validate",
										":token"
									],
									"variable": [
										{
											"key": "token",
											"value": "{{token}}"
										}
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "126"
								},
								{
									"key": "ETag",
									"value": "W/\"7e-fmj60lRRDhVoVlCzll8czJSGcng\""
								},
								{
									"key": "Date",
									"value": "Mon, 10 Apr 2023 08:14:19 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"Authentication failed: the provided token is invalid or has expired.\",\n    \"statusCode\": 401,\n    \"error\": {\n        \"statusCode\": 401\n    }\n}"
						}
					]
				},
				{
					"name": "update user",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "8887a80e-23e0-40b3-9a29-e05ab4c1fc0b",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"fullName\": \"MPKP\",\r\n    \"email\": \"pajar@supertal.io\",\r\n    \"password\": \"1234567\",\r\n    \"city\": \"a city\",\r\n    \"avatar\": \"url of the file from s3 (optional)\",\r\n    \"dob\": \"2023-03-30T07:59:47.833Z\",\r\n    \"deviceToken\": \"token-from-firebase-for-push-notification(optional)\",\r\n    \"gender\": \"male\",\r\n    \"ktpNumber\": \"1801040207950011\",\r\n    \"communityId\": \"optional\",\r\n    \"communityUrl\": \"optional\",\r\n    \"communityName\": \"optional\",\r\n    \"documents\": [\r\n        {\r\n            \"fileName\": \"ktpfile-example.png\",\r\n            \"fileUrl\": \"url to downlod file\",\r\n            \"mimetype\": \"image/png\",\r\n            \"provider\": \"s3\",\r\n            \"type\": \"ktp\"\r\n        },\r\n        {\r\n            \"fileName\": \"selfie-example.png\",\r\n            \"fileUrl\": \"url to downlod file\",\r\n            \"mimetype\": \"image/png\",\r\n            \"provider\": \"s3\",\r\n            \"type\": \"selfie\"\r\n        }\r\n    ]\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/auth/user/clgz26u4j0000a9acflkl1c1r",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"clgz26u4j0000a9acflkl1c1r"
							]
						},
						"description": "all field are optinal , minimum you need to update one field"
					},
					"response": [
						{
							"name": "update user",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"fullName\": \"joker2\",\r\n    \"email\": \"demo@g.com\",\r\n    \"password\": \"1234567\",\r\n    \"city\": \"a city\",\r\n    \"avatar\": \"url of the file from s3 (optional)\",\r\n    \"dob\": \"2023-03-30T07:59:47.833Z\",\r\n    \"deviceToken\": \"token-from-firebase-for-push-notification(optional)\",\r\n    \"gender\": \"male\",\r\n    \"isEmailVerified\": true,\r\n    \"isKTPVerified\": true,\r\n    \"ktpDocument\": {\r\n        \"fileName\": \" string\",\r\n        \"fileUrl\": \" string\",\r\n        \"mimetype\": \" string\",\r\n        \"provider\": \" string\",\r\n        \"type\": \"ktp\"\r\n    }\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/auth/user/:id",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"user",
										":id"
									],
									"variable": [
										{
											"key": "id",
											"value": "clgajgc5l0000j7m8pa2mczka"
										}
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "X-Powered-By",
									"value": "Express"
								},
								{
									"key": "Vary",
									"value": "Origin"
								},
								{
									"key": "Content-Type",
									"value": "application/json; charset=utf-8"
								},
								{
									"key": "Content-Length",
									"value": "753"
								},
								{
									"key": "ETag",
									"value": "W/\"2f1-aaGFNJ9QhoiD/Rt9TW1df9fe++Q\""
								},
								{
									"key": "Date",
									"value": "Mon, 10 Apr 2023 08:23:57 GMT"
								},
								{
									"key": "Connection",
									"value": "keep-alive"
								},
								{
									"key": "Keep-Alive",
									"value": "timeout=5"
								}
							],
							"cookie": [],
							"body": "{\n    \"message\": \"The user information has been updated.\",\n    \"statusCode\": 200,\n    \"response\": {\n        \"id\": \"clgajgc5l0000j7m8pa2mczka\",\n        \"fullName\": \"joker2\",\n        \"email\": \"jokermr143@gmail.com\",\n        \"gender\": \"male\",\n        \"avatar\": \"url of the file from s3 (optional)\",\n        \"city\": \"a city\",\n        \"deviceToken\": \"token-from-firebase-for-push-notification(optional)\",\n        \"dob\": \"2023-03-30T07:59:47.833Z\",\n        \"isEmailVerified\": true,\n        \"isActive\": true,\n        \"isVerified\": false,\n        \"isKTPVerified\": true,\n        \"lastLoggedIn\": \"2023-04-10T07:55:00.106Z\",\n        \"createdAt\": \"2023-04-10T07:55:00.106Z\",\n        \"updatedAt\": \"2023-04-10T08:23:56.996Z\",\n        \"roleSlug\": \"customer\",\n        \"role\": {\n            \"slug\": \"customer\",\n            \"title\": \"customer\",\n            \"description\": \"customer\",\n            \"canAccessCms\": false,\n            \"createdAt\": \"2023-04-10T07:47:36.077Z\",\n            \"updatedAt\": \"2023-04-10T07:47:36.077Z\",\n            \"permissions\": []\n        }\n    }\n}"
						}
					]
				},
				{
					"name": "update user (form data)",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "2d988e13-80a3-4755-950f-b944c5f48d32",
									"type": "string"
								}
							]
						},
						"method": "PUT",
						"header": [],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "ktpFile",
									"type": "file",
									"src": "/C:/Users/pajar/Pictures/6_83_422_415_7_67_1_20.png"
								},
								{
									"key": "fullName",
									"value": "Pajar Kharisma",
									"type": "text"
								},
								{
									"key": "email",
									"value": "pajar@supertal.io",
									"type": "text"
								},
								{
									"key": "password",
									"value": "1234567",
									"type": "text"
								},
								{
									"key": "city",
									"value": "Bandar Lampung",
									"type": "text"
								},
								{
									"key": "avatar",
									"value": "https://www.google.com",
									"type": "text"
								},
								{
									"key": "dob",
									"value": "2023-03-30",
									"type": "text"
								},
								{
									"key": "deviceToken",
									"value": "token-from-firebase-for-push-notification(optional)",
									"type": "text"
								},
								{
									"key": "gender",
									"value": "male",
									"type": "text"
								},
								{
									"key": "ktpNumber",
									"value": "1801040207950011",
									"type": "text"
								},
								{
									"key": "selfieFile",
									"type": "file",
									"src": "/C:/Users/pajar/Pictures/another normal day with lisa.png"
								}
							]
						},
						"url": {
							"raw": "{{url}}/api/auth/user/clgjlozso0000a9hwilfe6ooe",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"user",
								"clgjlozso0000a9hwilfe6ooe"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "verify-activation-otp/code",
			"item": [
				{
					"name": "email-verifycation",
					"item": [
						{
							"name": "verify otp for email verification",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"code\":\"Vbm#12\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/auth/verifycode/email",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"verifycode",
										"email"
									]
								}
							},
							"response": [
								{
									"name": "verify otp for email verification",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"code\":\"DrXGFf\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/api/auth/verifycode/email",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"verifycode",
												"email"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "74"
										},
										{
											"key": "ETag",
											"value": "W/\"4a-GLGprXP0gYZrS0Arsq9uz7sAkv0\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 07:55:39 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Otp verification successful\",\n    \"statusCode\": 200,\n    \"response\": true\n}"
								},
								{
									"name": "verify otp for email verification",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"code\":\"DrXGFf\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/api/auth/verifycode/email",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"verifycode",
												"email"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "69"
										},
										{
											"key": "ETag",
											"value": "W/\"45-0K4tX8oVFUHgZ2LcJ00stq/pvzI\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 08:19:05 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Invalid Otp\",\n    \"statusCode\": 400,\n    \"error\": {\n        \"statusCode\": 400\n    }\n}"
								}
							]
						},
						{
							"name": "get verification otp for email verification",
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{url}}/api/auth/verifycode/email/:identifier",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"verifycode",
										"email",
										":identifier"
									],
									"variable": [
										{
											"key": "identifier",
											"value": "jokermr143@gmail.com"
										}
									]
								}
							},
							"response": [
								{
									"name": "get verification otp for email verification",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{url}}/api/auth/verifycode/email/:identifier",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"verifycode",
												"email",
												":identifier"
											],
											"variable": [
												{
													"key": "identifier",
													"value": "jokermr143@gmail.com"
												}
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "68"
										},
										{
											"key": "ETag",
											"value": "W/\"44-+swF6rudcizmjVW3EsMtCXg+t3U\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 08:16:07 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"OTP code sent to jokermr143@gmail.com\",\n    \"statusCode\": 200\n}"
								},
								{
									"name": "get verification otp for email verification",
									"originalRequest": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{url}}/api/auth/verifycode/email/:identifier",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"verifycode",
												"email",
												":identifier"
											],
											"variable": [
												{
													"key": "identifier",
													"value": "jokermr143@gmail.com"
												}
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "87"
										},
										{
											"key": "ETag",
											"value": "W/\"57-HLdRV1OG6g95QQ6N4TV/seFpFNI\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 08:19:22 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"user's email already verified\",\n    \"statusCode\": 400,\n    \"error\": {\n        \"statusCode\": 400\n    }\n}"
								}
							]
						}
					]
				},
				{
					"name": "forget password",
					"item": [
						{
							"name": "forget password",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"email\":\"jokermr143@gmail.com\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/auth/password/forgot-password",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"password",
										"forgot-password"
									]
								}
							},
							"response": [
								{
									"name": "forget password",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"email\":\"jokermr143@gmail.com\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/api/auth/password/forgot-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"password",
												"forgot-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "68"
										},
										{
											"key": "ETag",
											"value": "W/\"44-WoPn1lJN1r8pgkUQK9PfylYG9Q4\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 08:28:05 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Reset password link sent successfully\",\n    \"statusCode\": 200\n}"
								}
							]
						},
						{
							"name": "reset password",
							"request": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\r\n    \"token\":\"Rj1y7q@l51V0w4GyMfqMcJ1AKUQuyI\",\r\n    \"password\":\"1234567\"\r\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{url}}/api/auth/password/reset-password",
									"host": [
										"{{url}}"
									],
									"path": [
										"api",
										"auth",
										"password",
										"reset-password"
									]
								}
							},
							"response": [
								{
									"name": "reset password",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\":\"L6WZu1!He#zlXePyejJXNcOjeUE4gV\",\r\n    \"password\":\"1234567\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/api/auth/password/reset-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"password",
												"reset-password"
											]
										}
									},
									"status": "Bad Request",
									"code": 400,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "69"
										},
										{
											"key": "ETag",
											"value": "W/\"45-0K4tX8oVFUHgZ2LcJ00stq/pvzI\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 08:29:25 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Invalid Otp\",\n    \"statusCode\": 400,\n    \"error\": {\n        \"statusCode\": 400\n    }\n}"
								},
								{
									"name": "reset password",
									"originalRequest": {
										"method": "POST",
										"header": [],
										"body": {
											"mode": "raw",
											"raw": "{\r\n    \"token\":\"Rj1y7q@l51V0w4GyMfqMcJ1AKUQuyI\",\r\n    \"password\":\"1234567\"\r\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{url}}/api/auth/password/reset-password",
											"host": [
												"{{url}}"
											],
											"path": [
												"api",
												"auth",
												"password",
												"reset-password"
											]
										}
									},
									"status": "OK",
									"code": 200,
									"_postman_previewlanguage": "json",
									"header": [
										{
											"key": "X-Powered-By",
											"value": "Express"
										},
										{
											"key": "Vary",
											"value": "Origin"
										},
										{
											"key": "Content-Type",
											"value": "application/json; charset=utf-8"
										},
										{
											"key": "Content-Length",
											"value": "58"
										},
										{
											"key": "ETag",
											"value": "W/\"3a-nROlh+a/T4jdDRghHdveMKH8hsI\""
										},
										{
											"key": "Date",
											"value": "Mon, 10 Apr 2023 08:30:12 GMT"
										},
										{
											"key": "Connection",
											"value": "keep-alive"
										},
										{
											"key": "Keep-Alive",
											"value": "timeout=5"
										}
									],
									"cookie": [],
									"body": "{\n    \"message\": \"Password reset successfully\",\n    \"statusCode\": 200\n}"
								}
							]
						}
					]
				}
			]
		},
		{
			"name": "Storage",
			"item": [
				{
					"name": "Get a s3 signled url to upload a image file",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const responseJson = pm.response.json();",
									"pm.environment.set(\"s3uploadurl\", responseJson.response.s3Url);",
									"pm.environment.set(\"s3uploadfilename\", responseJson.response.fileName);",
									""
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "ae0b361f-f1f0-4a42-a2ca-d1108053bfa0",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"contentType\": \"image/png\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/auth/storage/upload",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"storage",
								"upload"
							]
						}
					},
					"response": [
						{
							"name": "Create a s3 signled url to upload a image file",
							"originalRequest": {
								"method": "POST",
								"header": [],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"contentType\": \"image/png\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "http://localhost:4000/api/auth/storage/upload",
									"protocol": "http",
									"host": [
										"localhost"
									],
									"port": "4000",
									"path": [
										"api",
										"auth",
										"storage",
										"upload"
									]
								}
							},
							"_postman_previewlanguage": "Text",
							"header": [],
							"cookie": [],
							"body": "{\n    \"message\": \"Successfully generated a signed URL for uploading the file to S3\",\n    \"count\": 1,\n    \"response\": {\n        \"fileName\": \"clg4uxaad0000upbpu658yfd1/04fe0785-0afa-44a6-8505-23e5b449f57c.png\",\n        \"s3Url\": \"https://supert-bucket-123.s3.amazonaws.com/clg4uxaad0000upbpu658yfd1/04fe0785-0afa-44a6-8505-23e5b449f57c.png?AWSAccessKeyId=AKIAR3DNHIKK6MH7SITO&Content-Type=image%2Fpng&Expires=1684713548&Signature=82TrwlzSZw%2BtoFN8KffgOijGvR0%3D\"\n    }\n}"
						}
					]
				},
				{
					"name": "Get a s3 signled url to download a image file",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "ae0b361f-f1f0-4a42-a2ca-d1108053bfa0",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"fileName\": \"clgjlozso0000a9hwilfe6ooe/b187ba0f-f152-40a1-ab8f-4c01551c3924.png\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{url}}/api/auth/storage/download",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								"storage",
								"download"
							]
						}
					},
					"response": [
						{
							"name": "Get a s3 signled url to upload a image file",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"fileName\": \"fsfsfasd/fsddsf\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{URL}}/api/auth/storage/download",
									"host": [
										"{{URL}}"
									],
									"path": [
										"api",
										"auth",
										"storage",
										"download"
									]
								}
							},
							"_postman_previewlanguage": "Text",
							"header": [],
							"cookie": [],
							"body": ""
						}
					]
				},
				{
					"name": "Upload image file to s3",
					"request": {
						"method": "PUT",
						"header": [],
						"url": {
							"raw": "{{s3uploadurl}}",
							"host": [
								"{{s3uploadurl}}"
							]
						}
					},
					"response": [
						{
							"name": "Upload image file to s3",
							"originalRequest": {
								"method": "PUT",
								"header": [],
								"url": {
									"raw": "https://supert-bucket-123.s3.amazonaws.com/clg4uxaad0000upbpu658yfd1/babf0433-182f-4710-9a2d-ef3f0aff2277.png?AWSAccessKeyId=AKIAR3DNHIKK6MH7SITO&Content-Type=image%2Fpng&Expires=1684715282&Signature=coHvm2VwQIEp2Mu9k4RWwn4jqA0%3D",
									"protocol": "https",
									"host": [
										"supert-bucket-123",
										"s3",
										"amazonaws",
										"com"
									],
									"path": [
										"clg4uxaad0000upbpu658yfd1",
										"babf0433-182f-4710-9a2d-ef3f0aff2277.png"
									],
									"query": [
										{
											"key": "AWSAccessKeyId",
											"value": "AKIAR3DNHIKK6MH7SITO"
										},
										{
											"key": "Content-Type",
											"value": "image%2Fpng"
										},
										{
											"key": "Expires",
											"value": "1684715282"
										},
										{
											"key": "Signature",
											"value": "coHvm2VwQIEp2Mu9k4RWwn4jqA0%3D"
										}
									]
								}
							},
							"_postman_previewlanguage": "Text",
							"header": [],
							"cookie": [],
							"body": ""
						}
					]
				}
			]
		},
		{
			"name": "health-check",
			"request": {
				"method": "GET",
				"header": [],
				"url": {
					"raw": "{{url}}/api/auth/db",
					"host": [
						"{{url}}"
					],
					"path": [
						"api",
						"auth",
						"db"
					]
				}
			},
			"response": [
				{
					"name": "health-check",
					"originalRequest": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{url}}/api/auth/",
							"host": [
								"{{url}}"
							],
							"path": [
								"api",
								"auth",
								""
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "html",
					"header": [
						{
							"key": "X-Powered-By",
							"value": "Express"
						},
						{
							"key": "Vary",
							"value": "Origin"
						},
						{
							"key": "Content-Type",
							"value": "text/html; charset=utf-8"
						},
						{
							"key": "Content-Length",
							"value": "92"
						},
						{
							"key": "ETag",
							"value": "W/\"5c-i8qX9vfQyuia27wZBMrMAJzfcCE\""
						},
						{
							"key": "Date",
							"value": "Thu, 30 Mar 2023 07:34:53 GMT"
						},
						{
							"key": "Connection",
							"value": "keep-alive"
						},
						{
							"key": "Keep-Alive",
							"value": "timeout=5"
						}
					],
					"cookie": [],
					"body": "Running app in development , https:false, TZ:Etc/UTC base url: http://localhost:4001... 🚀"
				}
			]
		}
	],
	"auth": {
		"type": "bearer",
		"bearer": [
			{
				"key": "token",
				"value": "{{token}}",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "token",
			"value": "access token paste in current value",
			"type": "string"
		}
	]
}